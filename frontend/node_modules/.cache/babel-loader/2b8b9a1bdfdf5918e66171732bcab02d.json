{"ast":null,"code":"/*\nimport React, { useState, useEffect } from 'react';\n\nimport Header from './components/Header/Header';\nimport NewProduct from './components/Products/NewProduct';\nimport ProductList from './components/Products/ProductList';\n\n\nfunction App() {\n    \n  const [loadedCoordenates, setLoadedCoordenates] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n \n  useEffect(() => {\n    const fetchCoordenates= async () => {\n      setIsLoading(true);\n      const response = await fetch('http://localhost:5000/coordenates');\n\n      const responseData = await response.json();\n\n      setLoadedCoordenates(responseData.coordenates);\n      setIsLoading(false);\n    };\n\n    fetchCoordenates();\n  }, []);\n\n  const addCoordenateHandler = async (lat, lon) => {\n    try {\n      const newCoordenate = {\n        latitude: lat,\n        longitude: lon // \"+\" to convert string to number\n      };\n      let hasError = false;\n      const response = await fetch('http://localhost:5000/coordenate', {\n        method: 'POST',\n        body: JSON.stringify(newCoordenate),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      \n      });\n\n      if (!response.ok) {\n        hasError = true;\n      }\n     \n      const responseData = await response.json();\n     \n \n\n      if (hasError) {\n        throw new Error(responseData.message);\n      }\n\n      setLoadedCoordenates(prevCoordenates => {\n        return prevCoordenates.concat({\n          ...newCoordenate,\n          id: responseData.coordenate.id\n        });\n      });\n    } catch (error) {\n      alert(error.message || 'Something went wrong!');\n    }\n  }\n  \n\n  return (\n    \n    <React.Fragment>\n      <Header />\n      <main>\n        \n        <NewProduct onAddCoordenate={addCoordenateHandler} />\n        {isLoading && <p className=\"loader\">Loading...</p>},\n        {!isLoading && <ProductList items={loadedCoordenates} />}\n      \n    </main>\n    </React.Fragment>\n  );\n\n\n}\n\nexport default App;\n*/","map":{"version":3,"sources":["C:/Users/carod/Documents/React/weatherapplication/weatherapplication/frontend/src/App.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*\nimport React, { useState, useEffect } from 'react';\n\nimport Header from './components/Header/Header';\nimport NewProduct from './components/Products/NewProduct';\nimport ProductList from './components/Products/ProductList';\n\n\nfunction App() {\n    \n  const [loadedCoordenates, setLoadedCoordenates] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n \n  useEffect(() => {\n    const fetchCoordenates= async () => {\n      setIsLoading(true);\n      const response = await fetch('http://localhost:5000/coordenates');\n\n      const responseData = await response.json();\n\n      setLoadedCoordenates(responseData.coordenates);\n      setIsLoading(false);\n    };\n\n    fetchCoordenates();\n  }, []);\n\n  const addCoordenateHandler = async (lat, lon) => {\n    try {\n      const newCoordenate = {\n        latitude: lat,\n        longitude: lon // \"+\" to convert string to number\n      };\n      let hasError = false;\n      const response = await fetch('http://localhost:5000/coordenate', {\n        method: 'POST',\n        body: JSON.stringify(newCoordenate),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      \n      });\n\n      if (!response.ok) {\n        hasError = true;\n      }\n     \n      const responseData = await response.json();\n     \n \n\n      if (hasError) {\n        throw new Error(responseData.message);\n      }\n\n      setLoadedCoordenates(prevCoordenates => {\n        return prevCoordenates.concat({\n          ...newCoordenate,\n          id: responseData.coordenate.id\n        });\n      });\n    } catch (error) {\n      alert(error.message || 'Something went wrong!');\n    }\n  }\n  \n\n  return (\n    \n    <React.Fragment>\n      <Header />\n      <main>\n        \n        <NewProduct onAddCoordenate={addCoordenateHandler} />\n        {isLoading && <p className=\"loader\">Loading...</p>},\n        {!isLoading && <ProductList items={loadedCoordenates} />}\n      \n    </main>\n    </React.Fragment>\n  );\n\n\n}\n\nexport default App;\n*/"]},"metadata":{},"sourceType":"module"}